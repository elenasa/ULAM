## -*- mode:ulam -*-
#=t3416_test_compiler_elementandquark_caarray_funcreturn
#!
Exit status: 1
Ue_EventWindowTest { EventWindow ew();  Int(32) test() {  Atom(96) a;  a ( )func = 1 cast return } }
Uq_EventWindow { <NOMAIN> }
##
##      //can't use a func to return ew[0] even on the rhs? OK now.
##      // see t3413 for error as lhs.
#>EventWindowTest.ulam
  ulam 1;
use EventWindow;
element EventWindowTest {
  EventWindow ew;
  Atom func() {
    return ew[0];
  }
  Int test() {
    Atom a;
    a = func();
    return 1;
  }
}

#:EventWindow.ulam
  ulam 1;
quark EventWindow {
  Atom aref(Int index) native;
  Void aset(Int index, Atom val) native;
}
#.
